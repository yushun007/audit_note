## Audit 系统框架介绍
- 框架总览
    - 简介
      - audit英语直译是“审计”，英文释义为“an official inspection of an individual’s or organization’s accounts, typically by an independent body.”(对个人或组织的正式审查，通常由独立个体进行),linux中这里的独立个体即为内核，正式的审查即为根据规则生成审计消息.和审计类似的系统是日志系统，但是日志系统是一种自觉的行为，而审计是一种被动的行为
    - 功能简介
      - 将用户与进程相关联:将进程映射到启动它们的用户 ID
      - 查看审计追踪:Linux 审计提供了用于将审计报告写入磁盘并将其转换成可读格式的工具
      - 查看特定的审计事件:audit 提供了审计报告过滤工具,可以过滤特定的审计事件
      - 应用选择性审计:自定义审计规则
      - 审计报告的可用性:审计报告由 root 拥有,未授权用户不能删除审计报告
      - 防止审计数据丢失:如果内核耗尽了内存,将会超出auditd 的输出上限,在此情况下,audit 可能会触发系统关闭,以防止事件逃离审计
    - 框架概貌
      - ![audit_components](audit_components.png)实箭头表示组建之间的数据流，虚线箭头表示组件之间的控制线
      - auditd
        - 守护进程负责将通过审计内核接口生成并由应用程序和系统活动出发的审计消息写入磁盘.auditd 的启动方式由 systemd 控制.启动后由`/etc/audit/auditd.conf`文件控制
      - auditctl
        - auditctl 实用程序可以控制审计系统.可控制审计接口的日志生成参数和内核设置,以及用于确定要跟踪那些时间的规则集
      - audit.rules
        - `/etc/audit/audit.rules`文件包含一系列 auditctl 命令,在系统引导时,启动 auditd 之后紧接着加载这些命令
      - aureport
        - aureport 用来给予审计事件日志自定义报告.实用自定义生成报告的脚本,其他应用程序可以根据脚本输出进一步处理审计事件
      - ausearch
        - ausearch可以根据审计报告的各种键或者其他特征搜索特定的事件
      - audispd
        - **审计调度程序守护进程**可用于将事件通知中继到其他应用程序,而不是将其写入磁盘的审计日志中
      - autrace
        - 类似于 strace 的方式跟踪单个进程 autrace 的输出将记录到审计日志
      - aulast
        - 列先最后登录用户列表,类似于 last .aulast 在整个审计日志中(或者给定的审计日志文件)向后搜索,并给予审计日志中的事件范围显示所有登录和注销用户的列表
      - aulastlog
        - 以类似 aulast 的方式列显用户登录信息
